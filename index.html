<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>EMI Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* small style tweak */
    .card { border-radius: 14px; box-shadow: 0 6px 18px rgba(15,23,42,.06); }
    .btn { transition: transform .12s ease, box-shadow .12s ease; }
    .btn:active { transform: translateY(1px); }
  </style>
</head>
<body class="bg-gray-100 min-h-screen text-gray-800">

<div id="app" class="min-h-screen"></div>

<script>
/* ---------- Storage helpers ---------- */
const STORAGE_USERS = 'emi_users_v1';
const STORAGE_LOGGED = 'emi_logged_v1';

function loadUsers() {
  try {
    return JSON.parse(localStorage.getItem(STORAGE_USERS) || '{}');
  } catch (e) { return {}; }
}
function saveUsers(u) { localStorage.setItem(STORAGE_USERS, JSON.stringify(u)); }
function getLogged() { return localStorage.getItem(STORAGE_LOGGED); }
function setLogged(username) { if (username) localStorage.setItem(STORAGE_LOGGED, username); else localStorage.removeItem(STORAGE_LOGGED); }

/* ---------- Utility ---------- */
function q(selector, root=document) { return root.querySelector(selector); }
function qAll(selector, root=document) { return Array.from(root.querySelectorAll(selector)); }
function maskAccount(acc) { if (!acc) return '—'; const s = String(acc); return '****' + s.slice(-4); }
function formatDateISO(d) { if (!d) return '—'; const date = new Date(d); if (isNaN(date)) return '—'; return date.toISOString().slice(0,10); }

/* risk: uses income, emi, salaryDate, dueDate */
function computeRisk(income, emi, salaryDate, dueDate) {
  if (!income || !emi || !salaryDate || !dueDate) return { risk: 'Unknown'
